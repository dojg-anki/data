<?xml version="1.0" encoding="UTF-8"?><sqlb_project><db path="dojg.db" readonly="0" foreign_keys="1" case_sensitive_like="0" temp_store="0" wal_autocheckpoint="1000" synchronous="2"/><attached/><window><main_tabs open="structure browser pragmas query" current="0"/></window><tab_structure><column_width id="0" width="300"/><column_width id="1" width="0"/><column_width id="2" width="100"/><column_width id="3" width="6490"/><column_width id="4" width="0"/><expanded_item id="0" parent="1"/><expanded_item id="1" parent="1"/><expanded_item id="2" parent="1"/><expanded_item id="3" parent="1"/></tab_structure><tab_browse><table title="dojg_all_scrubbed" custom_title="0" dock_id="1" table="4,17:maindojg_all_scrubbed"/><dock_state state="000000ff00000000fd00000001000000020000041f000002c6fc0100000001fb000000160064006f0063006b00420072006f007700730065003101000000000000041f0000016900ffffff000002c90000000000000004000000040000000800000008fc00000000"/><default_encoding codec=""/><browse_table_settings><table schema="main" name="books" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="111"/><column index="2" value="161"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="dojg_all_export" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort/><column_widths><column index="1" value="154"/><column index="2" value="296"/><column index="3" value="324"/><column index="4" value="300"/><column index="5" value="300"/><column index="6" value="300"/><column index="7" value="300"/><column index="8" value="300"/><column index="9" value="380"/><column index="10" value="79"/><column index="11" value="82"/><column index="12" value="300"/><column index="13" value="52"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="dojg_all_scrubbed" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="0" mode="1"/></sort><column_widths><column index="1" value="300"/><column index="2" value="212"/><column index="3" value="169"/><column index="4" value="371"/><column index="5" value="300"/><column index="6" value="598"/><column index="7" value="651"/><column index="8" value="393"/><column index="9" value="300"/><column index="10" value="82"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table><table schema="main" name="dojg_basic_export" show_row_id="0" encoding="" plot_x_axis="" unlock_view_pk="_rowid_" freeze_columns="0"><sort><column index="6" mode="0"/></sort><column_widths><column index="1" value="129"/><column index="2" value="281"/><column index="3" value="456"/><column index="4" value="489"/><column index="5" value="488"/><column index="6" value="585"/><column index="7" value="415"/><column index="8" value="491"/><column index="9" value="300"/><column index="10" value="56"/><column index="11" value="107"/><column index="12" value="300"/><column index="13" value="56"/></column_widths><filter_values/><conditional_formats/><row_id_formats/><display_formats/><hidden_columns/><plot_y_axes/><global_filter/></table></browse_table_settings></tab_browse><tab_sql><sql name="SQL 1*">SELECT
	book_series,
	level,
	grammar_point,
	japanese,
	reading,
	english,
	explanation_short,
	REPLACE(REPLACE(explanation_long, '| ', ''), '- ', '') as explanation_long,
	audio,
	book_page
FROM
	(SELECT
	  IIF(grammar_point_prefix != '', grammar_point_prefix, grammar_point_postfix) as grammar_point,
	  IIF(explanation_prefix != '', explanation_prefix, '') as explanation_short,
	  IIF(explanation_postfix is NULL, grammar_point_postfix, explanation_postfix) as explanation_long,
	  book_series,
		level,
		book_page,
		japanese,
		reading,
		english,
		audio
	FROM (
		SELECT
			grammar_point,
			SUBSTR(grammar_point, 1, INSTR(grammar_point, ' - ') - 1) AS grammar_point_prefix,
			SUBSTR(grammar_point, INSTR(grammar_point, ' - ') + 1) AS grammar_point_postfix,
			explanation,
			SUBSTR(explanation, 1, INSTR(explanation, ' | ') - 1) AS explanation_prefix,
			SUBSTR(explanation, INSTR(explanation, ' | ') + 1) AS explanation_postfix,
			book_series,
			level,
			book_page,
			japanese,
			reading,
			english,
			audio
		FROM
			dojg_all_export
	)
)
	</sql><sql name="SQL 2*">SELECT
	grammar_point,
    SUBSTR(grammar_point, 1, INSTR(grammar_point, ' - ') - 1) AS grammar_point_prefix,
	SUBSTR(grammar_point, INSTR(grammar_point, ' - ') + 1) AS grammar_point_postfix,
	explanation,
	SUBSTR(explanation, 1, INSTR(explanation, ' | ') - 1) AS explanation_prefix,
	SUBSTR(explanation, INSTR(explanation, ' | ') + 1) AS explanation_postfix
FROM
    dojg_basic_export</sql><sql name="SQL 5*">SELECT
			grammar_point,
			SUBSTR(grammar_point, 1, INSTR(grammar_point, ' - ') - 1) AS grammar_point_prefix,
			SUBSTR(grammar_point, INSTR(grammar_point, ' - ') + 1) AS grammar_point_postfix,
			explanation,
			SUBSTR(explanation, 1, INSTR(explanation, ' | ') - 1) AS explanation_prefix,
			SUBSTR(explanation, INSTR(explanation, ' | ') + 1) AS explanation_postfix,
			book_series,
			level,
			book_page,
			japanese,
			reading,
			english,
			audio
		FROM
			dojg_basic_export</sql><sql name="SQL 6*">SELECT
	  IIF(grammar_point_prefix != '', grammar_point_prefix, grammar_point_postfix) as grammar_point,
	  IIF(explanation_prefix != '', explanation_prefix, '') as explanation_short,
	  IIF(explanation_postfix is NULL, grammar_point_postfix, explanation_postfix) as explanation_long,
	  book_series,
		level,
		book_page,
		japanese,
		reading,
		english,
		audio
	FROM (
		SELECT
			grammar_point,
			SUBSTR(grammar_point, 1, INSTR(grammar_point, ' - ') - 1) AS grammar_point_prefix,
			SUBSTR(grammar_point, INSTR(grammar_point, ' - ') + 1) AS grammar_point_postfix,
			explanation,
			SUBSTR(explanation, 1, INSTR(explanation, ' | ') - 1) AS explanation_prefix,
			SUBSTR(explanation, INSTR(explanation, ' | ') + 1) AS explanation_postfix,
			book_series,
			level,
			book_page,
			japanese,
			reading,
			english,
			audio
		FROM
			dojg_basic_export
	)</sql><sql name="Edit View dojg_all_scrubbed*">DROP VIEW IF EXISTS &quot;main&quot;.&quot;dojg_all_scrubbed&quot;;
CREATE VIEW &quot;dojg_all_scrubbed&quot; AS SELECT
	book_series,
	level,
	grammar_point,
	explanation_short as translation,
	REPLACE(REPLACE(explanation_long, '| ', ''), '- ', '') as explanation_long,
	japanese,
	reading,
	english,
	extra_notes,
	audio,
	book_page
FROM
	(SELECT
	  IIF(grammar_point_prefix != '', grammar_point_prefix, grammar_point_postfix) as grammar_point,
	  IIF(explanation_prefix != '', explanation_prefix, '') as explanation_short,
	  IIF(explanation_postfix is NULL, grammar_point_postfix, explanation_postfix) as explanation_long,
	  book_series,
		level,
		book_page,
		japanese,
		reading,
		english,
		audio,
		extra_notes
	FROM (
		SELECT
			grammar_point,
			SUBSTR(grammar_point, 1, INSTR(grammar_point, ' - ') - 1) AS grammar_point_prefix,
			SUBSTR(grammar_point, INSTR(grammar_point, ' - ') + 1) AS grammar_point_postfix,
			explanation,
			SUBSTR(explanation, 1, INSTR(explanation, ' | ') - 1) AS explanation_prefix,
			SUBSTR(explanation, INSTR(explanation, ' | ') + 1) AS explanation_postfix,
			book_series,
			level,
			book_page,
			japanese,
			reading,
			english,
			audio,
			extra_notes
		FROM
			dojg_all_export
	)
)</sql><current_tab id="4"/></tab_sql></sqlb_project>
